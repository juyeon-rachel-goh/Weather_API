<div class="d-flex flex-row justify-content-between h-100 w-100">
  <div class="padding d-flex flex-column w-75">
    <h6 class="h-50">my_weather_forecast</h6>

    <div class="d-flex flex-column">
      <!-- City -->
      <div class="heading">
        {{ (geocodeStateService.mostRecentSearch | async)?.city }}
      </div>
      <!-- Date -->
      <div class="h-50 sub-heading">
        {{
          (weatherStateService.mostRecentWeather | async)?.current?.zonedDate
            | date : "fullDate"
        }}
      </div>
      <!-- TIME  -->
      <div class="h-50 sub-heading">
        {{
          (weatherStateService.mostRecentWeather | async)?.current?.zonedDate
            | date : "mediumTime"
        }}
      </div>
    </div>
    <!-- Weather Icon and Description -->
    <div class="d-flex flex-row flex-wrap">
      <div class="box icon-padding">
        <div
          *ngIf="
            (weatherStateService.mostRecentWeather | async)?.current
              ?.mainDescription
          "
        >
          <img
            [src]="
              (weatherStateService.mostRecentWeather | async)?.current?.iconUrl
            "
          />
        </div>
        <div class="content">
          {{
            (weatherStateService.mostRecentWeather | async)?.current
              ?.mainDescription
          }}
        </div>
      </div>
      <!-- Temperature -->
      <div
        class="box temp fixed-width"
        *ngIf="
          (weatherStateService.mostRecentWeather | async)?.current?.temperature
        "
      >
        {{
          tempUnit === "f"
            ? ((weatherStateService.mostRecentWeather | async)?.current
                ?.temperature | number : "1.0-0")
            : (((weatherStateService.mostRecentWeather | async)?.current
                ?.temperature! -
                32) *
                (5 / 9) | number : "1.0-0")
        }}Â°
      </div>
      <!-- F/C Button -->
      <div
        *ngIf="
          (weatherStateService.mostRecentWeather | async)?.current?.temperature
        "
        class="temp-unit-box"
      >
        <button
          type="button"
          (click)="toggleUnit('f')"
          [disabled]="tempUnit === 'f'"
          [ngClass]="tempUnit === 'c' ? 'disabledButton' : ''"
        >
          F
        </button>
        <button
          type="button"
          (click)="toggleUnit('c')"
          [disabled]="tempUnit === 'c'"
          [ngClass]="tempUnit === 'f' ? 'disabledButton' : ''"
        >
          C
        </button>
      </div>
    </div>
  </div>
  <app-side-bar
    [tempUnit]="tempUnit === 'f' ? 'f' : tempUnit === 'c' ? 'c' : ''"
  ></app-side-bar>
</div>
